---

## name: code-review-quality

description: è¿›è¡Œä»¥ä¸Šä¸‹æ–‡ä¸ºå¯¼å‘çš„ä»£ç å®¡æŸ¥ï¼Œé‡ç‚¹å…³æ³¨è´¨é‡ã€å¯æµ‹è¯•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ç”¨äºä»£ç å®¡æŸ¥ã€æä¾›åé¦ˆæˆ–å»ºç«‹å®¡æŸ¥å®è·µæ—¶ã€‚

# ä»£ç å®¡æŸ¥è´¨é‡

## æ ¸å¿ƒç†å¿µ

ä»£ç å®¡æŸ¥çš„ç›®çš„æ˜¯**å­¦ä¹ ã€æ•™å­¦å’Œæå‡è´¨é‡**â€”â€”è€Œä¸æ˜¯è®¾é™æˆ–ç‚«æŠ€ã€‚  
è¦æœ‰å»ºè®¾æ€§ã€å…·ä½“ä¸”å‹å–„ã€‚

**å…³é”®åŸåˆ™ï¼š** åƒæ˜¯åœ¨å¸®åŠ©åŒäº‹ä¸€æ ·å®¡æŸ¥ä»£ç ï¼Œè€Œä¸æ˜¯åœ¨è¯„åˆ¤ä»–ä»¬ã€‚

## ä»£ç å®¡æŸ¥æ€ç»´æ¨¡å¼

### ä½ éœ€è¦å…³æ³¨çš„å†…å®¹

**å¿…é¡»è§£å†³ï¼š**

- Bug å’Œé€»è¾‘é”™è¯¯
- å®‰å…¨æ¼æ´
- æ€§èƒ½é—®é¢˜
- ç ´åæ€§å˜æ›´

**åº”å½“å…³æ³¨ï¼š**

- å‘½åä¸æ¸…
- ç¼ºå¤±æµ‹è¯•
- é‡å¤ä»£ç 
- å¤æ‚é€»è¾‘

**å¯é€‰å…³æ³¨ï¼š**

- æ ·å¼ä¸ä¸€è‡´ï¼ˆè‹¥æ— æ³•è‡ªåŠ¨ä¿®å¤ï¼‰
- å°å¹…ä¼˜åŒ–
- æ”¹è¿›å»ºè®®

**ä¸å±äºèŒè´£èŒƒå›´ï¼š**

- å¼ºåˆ¶æ‰§è¡Œä¸ªäººåå¥½
- ç”¨ä½ è‡ªå·±çš„é£æ ¼é‡å†™
- æŒ‘å‰”æ ¼å¼ï¼ˆäº¤ç»™ linter å¤„ç†ï¼‰

### ä½ éœ€è¦é—®è‡ªå·±çš„é—®é¢˜

**è¿™æ˜¯é—®é¢˜è¿˜æ˜¯åå¥½ï¼Ÿ**

- é—®é¢˜ï¼šä¼šå¯¼è‡´ bugï¼Œæˆ–è®©æœªæ¥ç»´æŠ¤è€…å›°æƒ‘
- åå¥½ï¼šâ€œæˆ‘ä¼šç”¨å¦ä¸€ç§æ–¹å¼å†™â€

**è¿™æ˜¯é˜»å¡è¿˜æ˜¯éé˜»å¡ï¼Ÿ**

- é˜»å¡ï¼šå¿…é¡»åœ¨åˆå¹¶å‰ä¿®å¤
- éé˜»å¡ï¼šæœªæ¥æ”¹è¿›å»ºè®®

**æˆ‘æ˜¯æ•™å­¦è¿˜æ˜¯è¯„åˆ¤ï¼Ÿ**

- æ•™å­¦ï¼šâ€œè¿™æ˜¯ä¸ºä»€ä¹ˆè¿™æ ·ä¼šæ›´å¥½â€
- è¯„åˆ¤ï¼šâ€œè¿™ä¸å¯¹â€

## åé¦ˆçº§åˆ«

ä½¿ç”¨ä»¥ä¸‹å‰ç¼€è¡¨ç¤ºä¸¥é‡ç¨‹åº¦ï¼š

**ğŸ”´ é˜»å¡é—®é¢˜ï¼ˆBLOCKERï¼‰** - åˆå¹¶å‰å¿…é¡»ä¿®å¤

```
ğŸ”´ æ­¤å‡½æ•°å­˜åœ¨ SQL æ³¨å…¥æ¼æ´ã€‚
è¯·æ”¹ç”¨å‚æ•°åŒ–æŸ¥è¯¢ã€‚
```

**ğŸŸ¡ ä¸»è¦é—®é¢˜ï¼ˆMAJORï¼‰** - åº”ä¿®å¤ï¼Œä½†ä¸ä¸€å®šé˜»å¡

```
ğŸŸ¡ æ­¤æµ‹è¯•æœªéªŒè¯é”™è¯¯å¤„ç†ã€‚
è¯·è€ƒè™‘æ·»åŠ é”™è¯¯æ¶ˆæ¯æ–­è¨€ã€‚
```

**ğŸŸ¢ æ¬¡è¦é—®é¢˜ï¼ˆMINORï¼‰** - å¯é€‰ä¼˜åŒ–

```
ğŸŸ¢ å»ºè®®å°†æ­¤æå–ä¸ºå•ç‹¬å‡½æ•°ä»¥æé«˜å¯è¯»æ€§ï¼ˆå¯é€‰ï¼‰ã€‚
```

**ğŸ’¡ å»ºè®®ï¼ˆSUGGESTIONï¼‰** - æ”¹è¿›æ€è·¯

```
ğŸ’¡ æœªæ¥å¯ä»¥è€ƒè™‘ç¼“å­˜æ­¤ç»“æœä»¥æå‡æ€§èƒ½ã€‚
```

## å®¡æŸ¥æµç¨‹

### 1. ç†è§£ä¸Šä¸‹æ–‡

**åœ¨å®¡æŸ¥ä»£ç å‰ï¼Œå…ˆæ£€æŸ¥ï¼š**

- PR æè¿° â€”â€” è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ
- å…³è”çš„ issue / ticket â€”â€” ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ
- ç›¸å…³ PR â€”â€” æ˜¯å¦å±äºæ›´å¤§å˜æ›´çš„ä¸€éƒ¨åˆ†ï¼Ÿ

**é”™è¯¯ç¤ºèŒƒï¼š** ç›´æ¥çœ‹ä»£ç å¹¶å¼€å§‹æ‰¹è¯„  
**æ­£ç¡®ç¤ºèŒƒï¼š** å…ˆç†è§£å¼€å‘è€…æƒ³å®ç°ä»€ä¹ˆ

### 2. åˆ†å±‚æ¬¡è¿›è¡Œå®¡æŸ¥

**é«˜å±‚çº§ï¼ˆ5 åˆ†é’Ÿï¼‰ï¼š**

- æ–¹æ³•åˆç†å—ï¼Ÿ
- æ˜¯å¦æœ‰æ¶æ„é—®é¢˜ï¼Ÿ
- æ˜¯å¦ç¬¦åˆæ—¢æœ‰æ¨¡å¼ï¼Ÿ

**ç»†èŠ‚å±‚çº§ï¼ˆ15â€“30 åˆ†é’Ÿï¼‰ï¼š**

- é€»è¾‘æ˜¯å¦æ­£ç¡®
- è¾¹ç•Œæƒ…å†µæ˜¯å¦å¤„ç†
- é”™è¯¯å¤„ç†æ˜¯å¦å……åˆ†
- æµ‹è¯•æ˜¯å¦å®Œå¤‡

**å¾®è§‚å±‚çº§ï¼ˆ5 åˆ†é’Ÿï¼‰ï¼š**

- å‘½åæ˜¯å¦æ¸…æ™°
- ä»£ç æ˜¯å¦å¯è¯»
- å¿…è¦æ³¨é‡Šæ˜¯å¦åˆ°ä½

### 3. å¸¸è§é—®é¢˜

**é€»è¾‘é”™è¯¯**

```javascript
// ğŸ”´ é˜»å¡ï¼šé€»è¾‘é”™è¯¯
if (price > 100 && price < 50) {
  // ä¸å¯èƒ½çš„æ¡ä»¶
  applyDiscount();
}

// åº”ä¸ºï¼š
if (price > 100 || (price >= 50 && price <= 100)) {
  applyDiscount();
}
```

**Null / Undefined å¤„ç†**

```javascript
// ğŸŸ¡ ä¸»è¦ï¼šå¯èƒ½å‡ºç° null å¼•ç”¨
function calculateTotal(order) {
  return order.items.reduce(...); // è‹¥ order.items ä¸º nullï¼Ÿ
}

// å»ºè®®ï¼š
function calculateTotal(order) {
  if (!order?.items?.length) return 0;
  return order.items.reduce(...);
}
```

**ç«äº‰æ¡ä»¶**

```javascript
// ğŸ”´ é˜»å¡ï¼šç«æ€é—®é¢˜
async function updateInventory(productId, quantity) {
  const product = await db.products.findById(productId);
  product.stock -= quantity; // éåŸå­æ“ä½œï¼
  await product.save();
}

// å»ºè®®ï¼š
async function updateInventory(productId, quantity) {
  await db.products.updateOne(
    { _id: productId, stock: { $gte: quantity } },
    { $inc: { stock: -quantity } }
  );
}
```

**ç¼ºå°‘æµ‹è¯•**

```javascript
// ğŸŸ¡ ä¸»è¦ï¼šæµ‹è¯•è¦†ç›–ä¸è¶³
function calculateDiscount(price, customerType) {
  // å¤æ‚ä¸šåŠ¡é€»è¾‘
}

// åº”æµ‹è¯•ï¼š
// - ä¸åŒå®¢æˆ·ç±»å‹
// - è¾¹ç•Œå€¼ï¼ˆprice=0, è´Ÿå€¼ï¼‰
// - ä¸´ç•ŒåŒºé—´
```

**å®‰å…¨é—®é¢˜**

```javascript
// ğŸ”´ é˜»å¡ï¼šSQL æ³¨å…¥æ¼æ´
const query = `SELECT * FROM users WHERE email = '${email}'`;

// æ”¹ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼š
const query = "SELECT * FROM users WHERE email = ?";
db.query(query, [email]);
```

## æ’°å†™ä¼˜ç§€çš„å®¡æŸ¥è¯„è®º

### è¦å…·ä½“

**é”™è¯¯ç¤ºä¾‹ï¼š**

```
è¿™ä¸ªå‡½æ•°å¤ªé•¿ã€‚
```

**æ­£ç¡®ç¤ºä¾‹ï¼š**

```
ğŸŸ¡ æ­¤å‡½æ•°æ‰¿æ‹…äº† 4 ä¸ªä¸åŒèŒè´£ï¼š
1. æ ¡éªŒ
2. è®¡ç®—
3. æ•°æ®åº“å­˜å‚¨
4. å‘é€é‚®ä»¶

å»ºè®®æ‹†åˆ†ä¸ºç‹¬ç«‹å‡½æ•°ï¼š
- validateOrder()
- calculateTotal()
- saveOrder()
- sendConfirmation()
```

### è§£é‡ŠåŸå› 

**é”™è¯¯ç¤ºä¾‹ï¼š**

```
ä¸è¦ç”¨ varã€‚
```

**æ­£ç¡®ç¤ºä¾‹ï¼š**

```
ğŸŸ¢ å»ºè®®ä½¿ç”¨ const æˆ– let æ›¿ä»£ varã€‚
var å…·æœ‰å‡½æ•°ä½œç”¨åŸŸï¼Œå¯èƒ½å¯¼è‡´é—­åŒ…ä¸­çš„æ„å¤–è¡Œä¸ºï¼›
const / let å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ›´å¯é¢„æµ‹ã€‚
```

### æå‡ºè§£å†³æ–¹æ¡ˆ

**é”™è¯¯ç¤ºä¾‹ï¼š**

```
è¿™æ ·ä¸è¡Œã€‚
```

**æ­£ç¡®ç¤ºä¾‹ï¼š**

```
ğŸ”´ å½“ items æ•°ç»„ä¸ºç©ºæ—¶ä¼šå¤±è´¥ã€‚

å»ºè®®ä¿®å¤ï¼š
if (!items || items.length === 0) {
  return 0;
}
```

### æé—®æ–¹å¼

**æŒ‡è´£å¼ï¼š**

```
ä½ ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå†™ï¼Ÿ
```

**å¥½å¥‡å¼ï¼š**

```
ğŸ’¡ æƒ³äº†è§£ä½ åœ¨è¿™é‡Œçš„æ€è·¯ã€‚æ˜¯å¦è€ƒè™‘è¿‡ä½¿ç”¨ X æ¨¡å¼ï¼Ÿ
å®ƒå¯èƒ½ç®€åŒ–é”™è¯¯å¤„ç†ã€‚ä½ æ€ä¹ˆçœ‹ï¼Ÿ
```

### è¡¨æ‰¬ä¼˜ç§€å·¥ä½œ

```
âœ… å¾ˆå¥½åœ°ä½¿ç”¨äº†æ—©è¿”å›ï¼Œé¿å…åµŒå¥—æ¡ä»¶ï¼Œä»£ç æ›´æ¸…æ™°ï¼
```

```
âœ… æµ‹è¯•è¦†ç›–é¢å¾ˆå…¨é¢ï¼Œç‰¹åˆ«æ˜¯è´Ÿä»·æ ¼æµ‹è¯•éå¸¸å…³é”®ã€‚
```

## è¯„è®ºæ¨¡æ¿

````markdown
ğŸ”´/ğŸŸ¡/ğŸŸ¢/ğŸ’¡ [é—®é¢˜ç®€è¿°]

**å½“å‰ä»£ç ï¼š**

```[language]
[ä»£ç ç‰‡æ®µ]
```
````

**é—®é¢˜è¯´æ˜ï¼š**  
[è§£é‡Šé”™è¯¯åŠå…¶å½±å“]

**å»ºè®®ä¿®å¤ï¼š**

```[language]
[è§£å†³æ–¹æ¡ˆç¤ºä¾‹]
```

**å…¶ä»–æ–¹æ¡ˆï¼š**  
[å¦‚æœ‰ï¼Œå¯è¡¥å……]

````

### æ¨¡æ¿ç¤ºä¾‹

```markdown
ğŸ”´ ç”¨æˆ·æœç´¢å­˜åœ¨ SQL æ³¨å…¥æ¼æ´

**å½“å‰ä»£ç ï¼š**
```javascript
const query = `SELECT * FROM users WHERE name LIKE '%${searchTerm}%'`;
const results = await db.query(query);
````

**é—®é¢˜ï¼š**  
ç”¨æˆ·è¾“å…¥è¢«ç›´æ¥æ‹¼æ¥è¿› SQL æŸ¥è¯¢ï¼Œæ”»å‡»è€…å¯æ³¨å…¥æ¶æ„è¯­å¥ã€‚

**å»ºè®®ä¿®å¤ï¼š**

```javascript
const query = "SELECT * FROM users WHERE name LIKE ?";
const results = await db.query(query, [`%${searchTerm}%`]);
```

**æ›¿ä»£æ–¹æ¡ˆï¼ˆä½¿ç”¨ ORMï¼‰ï¼š**

```javascript
const results = await User.findAll({
  where: {
    name: { [Op.like]: `%${searchTerm}%` },
  },
});
```

```

## ä¸è¦å®¡æŸ¥çš„å†…å®¹ï¼ˆåº”è‡ªåŠ¨åŒ–ï¼‰

**æ ¼å¼ï¼š**
- ç¼©è¿›ã€ç©ºæ ¼ã€æ¢è¡Œ
  **è§£å†³æ–¹æ¡ˆï¼š** ä½¿ç”¨ Prettierã€ESLint auto-fix

**ä»£ç é£æ ¼ï¼š**
- åˆ†å·ã€å¼•å·ã€å‘½åçº¦å®š
  **è§£å†³æ–¹æ¡ˆï¼š** ESLint + CI æ£€æŸ¥

**å¯¼å…¥é¡ºåºï¼š**
- å“ªä¸ª import å…ˆå
  **è§£å†³æ–¹æ¡ˆï¼š** ESLint import æ’ä»¶

**ç±»å‹é”™è¯¯ï¼š**
- TypeScript ç¼–è¯‘é”™è¯¯
  **è§£å†³æ–¹æ¡ˆï¼š** åœ¨ CI æ‰§è¡Œ TypeScript æ£€æŸ¥

### äººå·¥å®¡æŸ¥åº”èšç„¦äº

- é€»è¾‘æ­£ç¡®æ€§
- ä¸šåŠ¡é€»è¾‘å®ç°
- æµ‹è¯•è´¨é‡ä¸è¦†ç›–
- å®‰å…¨æ€§
- æ€§èƒ½
- API è®¾è®¡
- é”™è¯¯å¤„ç†
- è¾¹ç•Œæƒ…å†µ

## å®¡æŸ¥æ£€æŸ¥æ¸…å•

### åŠŸèƒ½æ€§
- [ ] ä»£ç æ˜¯å¦å®ç°äº† PR æè¿°çš„åŠŸèƒ½ï¼Ÿ
- [ ] æ˜¯å¦å¤„ç†äº†è¾¹ç•Œæƒ…å†µï¼Ÿ
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦åˆç†ï¼Ÿ
- [ ] éæ³•è¾“å…¥ä¼šæ€æ ·ï¼Ÿ

### æµ‹è¯•
- [ ] æ˜¯å¦æœ‰æµ‹è¯•ï¼Ÿ
- [ ] æµ‹è¯•æ˜¯å¦çœŸæ­£éªŒè¯é€»è¾‘ï¼Ÿ
- [ ] è¾¹ç•Œ/é”™è¯¯æƒ…å†µæ˜¯å¦æµ‹è¯•ï¼Ÿ
- [ ] æµ‹è¯•å¯ç†è§£ï¼Ÿ

### å®‰å…¨
- [ ] è¾“å…¥éªŒè¯ï¼Ÿ
- [ ] é˜²æ­¢ SQL æ³¨å…¥ï¼Ÿ
- [ ] é˜²æ­¢ XSSï¼Ÿ
- [ ] æˆæƒæ£€æŸ¥ï¼Ÿ
- [ ] æœªç¡¬ç¼–ç æœºå¯†ï¼Ÿ

### æ€§èƒ½
- [ ] æ— æ˜æ˜¾æ€§èƒ½é—®é¢˜ï¼Ÿ
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ï¼Ÿ
- [ ] æ—  N+1 æŸ¥è¯¢ï¼Ÿ
- [ ] é€‚å½“ä½¿ç”¨ç¼“å­˜ï¼Ÿ

### å¯ç»´æŠ¤æ€§
- [ ] ä»£ç å¯è¯»ï¼Ÿ
- [ ] å‘½åæ¸…æ™°ï¼Ÿ
- [ ] å¤æ‚é€»è¾‘æœ‰æ³¨é‡Šï¼Ÿ
- [ ] æ— é‡å¤ï¼Ÿ
- [ ] éµå¾ªç°æœ‰æ¨¡å¼ï¼Ÿ

### æ–‡æ¡£
- [ ] å…¬å…± API æ˜¯å¦æ–‡æ¡£åŒ–ï¼Ÿ
- [ ] å¤æ‚é€»è¾‘è§£é‡Šï¼Ÿ
- [ ] README æ˜¯å¦æ›´æ–°ï¼Ÿ

## å¤„ç†åˆ†æ­§

### å½“ä½œè€…ä¸åŒæ„ä½ çš„åé¦ˆ

**ä½ çš„è¯„è®ºï¼š**

```

ğŸŸ¡ å»ºè®®æå–ä¸ºç‹¬ç«‹å‡½æ•°ã€‚

```

**ä»–ä»¬çš„å›åº”ï¼š**

```

æˆ‘è§‰å¾—æ²¡å¿…è¦ï¼Œå‡½æ•°è¿™æ ·æŒºå¥½ã€‚

```

**ä½ çš„é€‰æ‹©ï¼š**

- **è‹¥éé˜»å¡ï¼ˆğŸŸ¢ğŸ’¡ï¼‰**

```

å¯ä»¥ç†è§£ï¼è¿™æ˜¯é£æ ¼é—®é¢˜ï¼Œå¯ä¿ç•™ã€‚

```

- **è‹¥é‡è¦ï¼ˆğŸŸ¡ï¼‰**

```

ç†è§£ä½ çš„çœ‹æ³•ï¼Œä½†æ­¤å‡½æ•°ç›®å‰æ‰¿æ‹…å››ç§èŒè´£ï¼Œ  
å•æµ‹å›°éš¾ã€‚æ˜¯å¦æ„¿æ„ä»…æå–è®¡ç®—é€»è¾‘ï¼Ÿ

```

- **è‹¥å…³é”®ï¼ˆğŸ”´ï¼‰**

```

ç†è§£æƒ³ä¿æŒç®€æ´ï¼Œä½†è¿™æ˜¯å®‰å…¨æ¼æ´ã€‚  
å¿…é¡»åœ¨åˆå¹¶å‰ä¿®å¤ã€‚æˆ‘ä»¬å¯ä»¥ä¸€èµ·è®¨è®ºè§£å†³æ–¹æ¡ˆã€‚

```

### å½“ä½ é”™äº†

**è¦ä¼˜é›…æ‰¿è®¤ï¼š**

```

ä½ è¯´å¾—å¯¹â€”â€”æˆ‘å¿½ç•¥äº†ä¸­é—´ä»¶å±‚çš„é€»è¾‘ã€‚  
è°¢è°¢æ¾„æ¸…ï¼æˆ‘å°†å…³é—­æ­¤è¯„è®ºã€‚

```

## å®¡æŸ¥æ—¶é•¿

**å°å‹ PRï¼ˆ<100 è¡Œï¼‰**ï¼š10â€“15 åˆ†é’Ÿ
**ä¸­å‹ PRï¼ˆ100â€“500 è¡Œï¼‰**ï¼š30â€“45 åˆ†é’Ÿ
**å¤§å‹ PRï¼ˆ>500 è¡Œï¼‰**ï¼š1â€“2 å°æ—¶ï¼ˆå»ºè®®æ‹†åˆ†ï¼‰

### ä½•æ—¶è¯·æ±‚ä¿®æ”¹

- **ç«‹å³ï¼š** ä¸¥é‡ bugã€å®‰å…¨é—®é¢˜
- **4 å°æ—¶å†…ï¼š** é˜»å¡å·¥ä½œ
- **24 å°æ—¶å†…ï¼š** éç´§æ€¥æ”¹è¿›

### å½“ PR è¿‡å¤§

```

æ­¤ PRï¼ˆ847 è¡Œï¼‰è¿‡å¤§ï¼Œå»ºè®®æ‹†åˆ†ä¸ºï¼š

1. æ•°æ®åº“ schema
2. API æ¥å£
3. å‰ç«¯ç»„ä»¶
4. æµ‹è¯•

å¯ä¼˜å…ˆå®¡æŸ¥ç¬¬ä¸€ä¸ªéƒ¨åˆ†ã€‚

````

## å¸¸è§ä¸è‰¯å®¡æŸ¥

**âŒ ä»…å†™â€œLGTMâ€** â€”â€” æ— å®é™…å®¡æŸ¥
**âŒ å¹æ¯›æ±‚ç–µ** â€”â€” åªæŒ‘æ ¼å¼ä¸çœ‹é€»è¾‘
**âŒ å¼ºè¡Œé‡å†™** â€”â€” â€œæˆ‘ä¼šè¿™ä¹ˆå†™â€ä½†åŸå®ç°æ²¡é—®é¢˜
**âŒ è¦æ±‚å®Œç¾** â€”â€” å°é—®é¢˜å´è¦æ±‚é‡å†™æ¨¡å—
**âŒ å®ˆé—¨äººå¿ƒæ€** â€”â€” æ— æ„ä¹‰é˜»å¡

### ä¼˜ç§€å®¡æŸ¥

**âœ… å»ºè®¾æ€§åé¦ˆ**
**âœ… èµç¾ + æ”¹è¿›å»ºè®®**
**âœ… æ•™å­¦æœºä¼š**
**âœ… èšç„¦å½±å“**
**âœ… åŠæ—¶å“åº”**

## å®¡æŸ¥ç¤ºä¾‹

### ä¼˜ç§€è¯„è®º

```markdown
ğŸ”´ äº‹ä»¶å¤„ç†å­˜åœ¨å†…å­˜æ³„æ¼

**å½“å‰ä»£ç ï¼š**
```javascript
useEffect(() => {
  window.addEventListener('resize', handleResize);
}, []);
````

**é—®é¢˜ï¼š**  
äº‹ä»¶ç›‘å¬å™¨æœªæ¸…ç†ï¼Œç»„ä»¶å¸è½½åä»ä¿ç•™ã€‚é¢‘ç¹æŒ‚è½½ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚

**å»ºè®®ä¿®å¤ï¼š**

```javascript
useEffect(() => {
  window.addEventListener("resize", handleResize);
  return () => {
    window.removeEventListener("resize", handleResize);
  };
}, []);
```

**å‚è€ƒï¼š**  
React æ–‡æ¡£ï¼š[https://react.dev/learn/synchronizing-with-effects#step-3-add-cleanup-if-needed](https://react.dev/learn/synchronizing-with-effects#step-3-add-cleanup-if-needed)

````

### ç³Ÿç³•è¯„è®º

```markdown
è¿™å¾ˆç³Ÿï¼Œé‡å†™ã€‚
````

**é—®é¢˜ï¼š**

- ä¸å…·ä½“
- æ— è§£é‡Š
- æ— å»ºè®®
- è¯­æ°”ä¸å¥½

## è‡ªæˆ‘å®¡æŸ¥

åœ¨è¯·æ±‚ä»–äººå®¡æŸ¥å‰ï¼š

### è‡ªæŸ¥æ¸…å•

- é€šè¯»æ•´ä¸ª diff
- ç§»é™¤è°ƒè¯•ä»£ç 
- åˆ é™¤æ³¨é‡Šæ‰çš„æ—§ä»£ç 
- æœ¬åœ°é€šè¿‡æµ‹è¯•
- æ›´æ–°æ–‡æ¡£
- PR æè¿°æ¸…æ™°
- UI æ”¹åŠ¨é™„æˆªå›¾
- å…³è”ç›¸å…³ issue

### æ·»åŠ è‡ªæˆ‘è¯´æ˜

- è§£é‡Šä¸æ˜æ˜¾çš„å†³ç­–
- ä¸´æ—¶è§£å†³æ–¹æ¡ˆåŠåŸå› 
- ä¸ç¡®å®šåŒºåŸŸ
- å‘å®¡æŸ¥è€…æé—®

```javascript
// NOTE: ä½¿ç”¨ setTimeout è€Œé requestAnimationFrameï¼Œ
// å› éœ€åœ¨ React commit é˜¶æ®µåæ‰§è¡Œã€‚
// RAF ä¼šåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶é—ªçƒã€‚
setTimeout(() => scrollToElement(ref.current), 0);
```

## ä¸ QE Agent åä½œ

### è‡ªåŠ¨åŒ–ä»£ç å®¡æŸ¥ï¼ˆqe-quality-analyzerï¼‰

```typescript
const reviewAnalysis = await agent.reviewCode({
  files: prChanges,
  depth: "comprehensive",
  checkBugs: true,
  checkSecurity: true,
  checkPerformance: true,
  checkMaintainability: true,
});

// è¿”å›ç»“æœç¤ºä¾‹ï¼š
// {
//   blockers: [...],
//   major: [...],
//   suggestions: [...],
//   qualityScore: 0.87
// }
```

### äººæœºååŒå®¡æŸ¥

```typescript
const agentReview = (await qe) - quality - analyzer.reviewCode(prChanges);
const humanRefinements = await human.refineReview(agentReview);
const finalReview = await agent.formatFeedback({
  agentFindings: agentReview,
  humanInsights: humanRefinements,
  useEmojis: true,
});
```

### å¤šä»£ç†åä½œå®¡æŸ¥

```typescript
const reviewFleet = await FleetManager.coordinate({
  strategy: "code-review",
  agents: [
    "qe-quality-analyzer",
    "qe-security-scanner",
    "qe-performance-tester",
    "qe-coverage-analyzer",
  ],
  topology: "parallel",
});

await reviewFleet.execute({
  prNumber: 123,
  aggregateResults: true,
});
```

## è¯·è®°ä½

**ä¼˜ç§€çš„ä»£ç å®¡æŸ¥æ˜¯ï¼š**

- åä½œè€Œéå¯¹ç«‹
- æ•™å­¦è€Œéè¯„åˆ¤
- å…·ä½“è€Œéæ¨¡ç³Š
- å»ºè®¾è€Œéç ´å
- åŠæ—¶è€Œéæ‹–å»¶

**ç›®æ ‡æ˜¯ï¼šæ›´å¥½çš„ä»£ç  + æ›´å¥½çš„å¼€å‘è€…ï¼Œè€Œéå®Œç¾çš„ä»£ç ã€‚**

ä»¥å…±æƒ…ä¹‹å¿ƒå®¡æŸ¥ä»£ç ã€‚  
æ¯ä¸ªäººéƒ½ä¼šå†™å‡ºä¸å®Œç¾çš„ä»£ç ï¼Œ  
ä½ çš„èŒè´£æ˜¯è®©å®ƒå˜å¾—æ›´å¥½ï¼Œè€Œä¸æ˜¯è¯æ˜è‡ªå·±æ›´èªæ˜ã€‚
